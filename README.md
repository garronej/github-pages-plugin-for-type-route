# What?

This is a build tool to enable [`create-react-app`](https://create-react-app.dev)'s sites that uses [`type-route`](https://typehero.org/type-route) to be deployed on [`gh-pages`](https://pages.github.com).

# The Problem it solves

Github pages has no configuration to enable single pages application.
If you GET `https://my-domain.com/a/b/foo` github page will serve `a/b/foo.html` when in reality we would like that, regardless of the url path, it's always the `index.html` that is served.  
The workaround is to copy the content of `index.html` into a `404.html` file, it works but it's very bad for SEO.  

# The solution

Copying the index.html everywhere there is a path before deploying.

# How to set it up

![image](https://user-images.githubusercontent.com/6702424/100515459-b65a2980-317c-11eb-9884-a53a0fe3fdbf.png)

![image](https://user-images.githubusercontent.com/6702424/100515424-7004ca80-317c-11eb-9d7d-c371de576c11.png)

![image](https://user-images.githubusercontent.com/6702424/100515795-ec001200-317e-11eb-9b44-1462addf2478.png)

Then when we run `yarn deploy` this get generated for us after the build: 
![image](https://user-images.githubusercontent.com/6702424/100515450-a04c6900-317c-11eb-8153-a5a278ae58cd.png)

All this files are copies of `index.html` generated by the tool:
```json
[
    "auteur.html",
    "evenements.html",
    "naturalisme.html",
    "naturalisme/antilles.html",
    "naturalisme/france.html",
    "naturalisme/ouset-canadiens.html",
    "naturalisme/reunion.html",
    "portrait.html",
    "404.html"
]
```

result: TADAAAA! No 404 anymore ðŸ¥³ 

![image](https://user-images.githubusercontent.com/6702424/100515655-fcfc5380-317d-11eb-8f52-7f207e1a24ce.png)

First project on to which we set the plugin up: https://github.com/thieryw/theo-tz  
And it's deployment: http://thieryw.github.io/theo-tz

